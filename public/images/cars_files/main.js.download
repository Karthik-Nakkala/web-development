jQuery(function () {
  var vw = jQuery(window).width();
  AOS.init({
    disable: false,
    startEvent: "DOMContentLoaded",
    initClassName: "aos-init",
    animatedClassName: "aos-animate",
    useClassNames: false,
    disableMutationObserver: false,
    debounceDelay: 0,
    throttleDelay: 99,
    offset: 30,
    delay: 0,
    duration: 1000,
    easing: "cubic-bezier(0.165, 0.84, 0.44, 1)",
    once: false,
    mirror: false,
    anchorPlacement: "top-bottom",
  });
  jQuery(document).on("click", ".popover-form .book-btn", function () {
    if (jQuery(this).parents(".popover-form").hasClass("active")) {
      jQuery(this).parents(".popover-form").removeClass("active");
    } else {
      jQuery(this).parents(".popover-form").addClass("active");
    }
  });
  jQuery(document).on("click", ".popover-form .closed-btn", function () {
    jQuery(this).parents(".popover-form").find(".book-btn").click();
  });
  jQuery(document).on(
    "click",
    ".faqs-section .acco-div > ul > li h2",
    function () {
      if (jQuery(this).parents("li").hasClass("active")) {
        jQuery(this)
          .parents("li")
          .removeClass("active")
          .find(".acco-content-div")
          .slideUp();
      } else {
        jQuery(this)
          .parents("ul")
          .find("li")
          .removeClass("active")
          .find(".acco-content-div")
          .slideUp();
        jQuery(this)
          .parents("li")
          .addClass("active")
          .find(".acco-content-div")
          .slideDown();
      }
      setTimeout(() => {
        AOS.refresh();
      }, 500);
    }
  );
  jQuery(document).on(
    "click",
    ".news-main-section .news-cotnent .img-with-content .row .play-click",
    function () {
      jQuery(this).parents(".with-play-btn").addClass("active");
      jQuery(this)
        .parents(".with-play-btn")
        .find("iframe")
        .attr("src", jQuery(this).attr("data-src"));
    }
  );
  if (vw < 767) {
    jQuery(".spotlight-home-wrap .swiper-slide video").each(function () {
      jQuery(this).attr("src", jQuery(this).attr("data-src"));
      jQuery(this)[0].autoplay = true;
      jQuery(this)[0].load();
    });
  }
  jQuery(".sitemap-search").on("click", function () {
    jQuery("html, body").animate(
      {
        scrollTop: 0,
      },
      "300"
    );
    jQuery(".search a").click();
  });
  jQuery(document).on("click", ".popup-btn", function (e) {
    jQuery("body").addClass("open-popup");
    jQuery(jQuery(this).attr("data-popup")).addClass("open-popup-active");
    e.preventDefault();
  });
  jQuery(".popup-div .poup-content .popup-header .closed-popup").on(
    "click",
    function () {
      jQuery("body").removeClass("open-popup");
      jQuery(".popup-div").removeClass("open-popup-active");
    }
  );
  jQuery(document).on("click", function (e) {
    var container = jQuery(".popup-div .poup-content,.popup-btn ");
    if (!container.is(e.target) && container.has(e.target).length === 0) {
      jQuery("body").removeClass("open-popup");
      jQuery(".popup-div").removeClass("open-popup-active");
    }
  });
  jQuery(".acc-head").on("click", function () {
    if (jQuery(this).hasClass("active")) {
      jQuery(this).removeClass("active");
      jQuery(this).next(".acc-content").slideUp();
    } else {
      jQuery(".acc-content").slideUp();
      jQuery(".acc-head").removeClass("active");
      jQuery(this).addClass("active");
      jQuery(this).next(".acc-content").slideDown();
    }
  });
  if (jQuery(".beam-slider").length > 0) {
    jQuery(".beam-slider").each(function () {
      if (jQuery(this).find(".swiper-slide").length == 1) {
        jQuery(this).addClass("beam-slider-one");
        jQuery(this).find(".swiper-button-white").fadeOut();
      } else {
        jQuery(this).addClass("beam-slider-multi");
      }
    });
  }
  setInterval(function () {
    if (
      jQuery(".beam-slider-multi .swiper-button-white").hasClass(
        "swiper-button-disabled"
      )
    ) {
      jQuery(".beam-slider-multi .swiper-button-white").removeClass(
        "swiper-button-disabled"
      );
    }
  }, 100);
  setInterval(function () {
    if (jQuery(".animate-type-text:first-child").hasClass("aos-animate")) {
      jQuery(".animate-type-text p").addClass("animate");
    } else {
    }
  }, 10);
  setTimeout(function () {
    if (jQuery(".beam-slider").length > 0) {
      let mainSliderSelectorOne = ".beam-slider-one",
        mainSliderSelectorMulti = ".beam-slider-multi",
        interleaveOffset = 0.9;
      let mainSliderOptionsOne = {
        loop: false,
        speed: 1000,
        draggable: false,
        autoplay: false,
        navigation: {
          enabled: false,
        },
        pagination: {
          enabled: false,
        },
        on: {
          init: function () {
            this.autoplay.stop();
          },
          imagesReady: function () {
            this.el.classList.remove("loading");
            setTimeout(() => {
              if (
                jQuery(".beam-slider .swiper-slide-active video").length > 0
              ) {
                this.autoplay.stop();
              } else {
                this.autoplay.start();
              }
            }, 10);
          },
          slideChange: function () {
            let swiper = this,
              captions = swiper.el.querySelectorAll(".content");
            for (let i = 0; i < captions.length; ++i) {
              captions[i].classList.remove("active");
            }
          },
          slideChangeTransitionEnd: function () {
            let swiper = this,
              captions = swiper.el.querySelectorAll(".content");
            for (let i = 0; i < captions.length; ++i) {
              TweenMax.to(
                swiper.slides[i].querySelectorAll(
                  ".content h2,.content h1, .content small, .content .awardImg"
                ),
                0,
                {
                  autoAlpha: 0,
                  y: 20,
                }
              );
              TweenMax.to(swiper.slides[i].querySelectorAll(".content p"), 0, {
                autoAlpha: 0,
                y: 40,
              });
              TweenMax.to(
                swiper.slides[i].querySelectorAll(".content .btn"),
                0,
                {
                  autoAlpha: 0,
                  y: 60,
                }
              );
              TweenMax.to(swiper.slides[i].querySelectorAll(".content h3"), 0, {
                autoAlpha: 0,
                y: 70,
              });
            }
            TweenMax.to(
              swiper.slides[swiper.activeIndex].querySelectorAll(
                ".content h2,.content h1, .content small, .content .awardImg,.content p,.content .btn, .content h3"
              ),
              0.6,
              {
                autoAlpha: 1,
                y: 0,
                delay: 0.6,
                onComplete: function () {},
              }
            );
            TweenMax.to(
              swiper.slides[swiper.activeIndex].querySelectorAll(".content "),
              0.3,
              {
                autoAlpha: 1,
                y: 0,
                delay: 0,
                onComplete: function () {
                  swiper.slides[swiper.activeIndex]
                    .querySelector(".content")
                    .classList.add("active");
                },
              }
            );
            if (jQuery(".beam-slider .swiper-slide-active video").length > 0) {
              swiper.autoplay.stop();
              jQuery(".beam-slider .swiper-slide-active video").each(
                function () {
                  jQuery(this).get(0).play();
                  setTimeout(function () {
                    jQuery(".beam-slider .swiper-slide-active video")
                      .get(0)
                      .pause();
                    jQuery(".beam-slider .swiper-slide-active video").get(
                      0
                    ).currentTime = jQuery(this)[0].duration * 1000;
                  }, jQuery(this)[0].duration * 1000);
                  var duration = jQuery(this)[0].duration * 1000;
                  setTimeout(() => {}, duration);
                }
              );
            } else {
              jQuery(".beam-slider .swiper-slide video").each(function () {
                jQuery(this).get(0).pause();
                jQuery(this).get(0).currentTime = 0;
              });
            }
          },
          progress: function () {
            let swiper = this;
            for (let i = 0; i < swiper.slides.length; i++) {
              let slideProgress = swiper.slides[i].progress,
                innerOffset = swiper.width * interleaveOffset,
                innerTranslate = slideProgress * innerOffset;
              swiper.slides[i].querySelector(".slide-bgimg").style.transform =
                "translateX(" + innerTranslate + "px)";
            }
          },
          setTransition: function (speed) {
            let swiper = this;
            for (let i = 0; i < swiper.slides.length; i++) {
              swiper.slides[i].style.transition = speed + "ms";
              swiper.slides[i].querySelector(".slide-bgimg").style.transition =
                speed + "ms";
            }
          },
        },
      };
      let mainSliderOptionsMulti = {
        loop: true,
        speed: 1000,
        autoplay: {
          delay: 7000,
        },
        grabCursor: true,
        watchSlidesProgress: true,
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
        on: {
          init: function () {
            this.autoplay.stop();
          },
          imagesReady: function () {
            this.el.classList.remove("loading");
            setTimeout(() => {
              if (
                jQuery(".beam-slider .swiper-slide-active video").length > 0
              ) {
                this.autoplay.stop();
              } else {
                this.autoplay.start();
              }
            }, 10);
          },
          slideChange: function () {
            let swiper = this,
              captions = swiper.el.querySelectorAll(".content");
            for (let i = 0; i < captions.length; ++i) {
              captions[i].classList.remove("active");
            }
          },
          slideChangeTransitionEnd: function () {
            let swiper = this,
              captions = swiper.el.querySelectorAll(".content");
            for (let i = 0; i < captions.length; ++i) {
              TweenMax.to(
                swiper.slides[i].querySelectorAll(
                  ".content h2,.content h1, .content small, .content .awardImg"
                ),
                0,
                {
                  autoAlpha: 0,
                  y: 20,
                }
              );
              TweenMax.to(swiper.slides[i].querySelectorAll(".content p"), 0, {
                autoAlpha: 0,
                y: 40,
              });
              TweenMax.to(
                swiper.slides[i].querySelectorAll(".content .btn"),
                0,
                {
                  autoAlpha: 0,
                  y: 60,
                }
              );
              TweenMax.to(swiper.slides[i].querySelectorAll(".content h3"), 0, {
                autoAlpha: 0,
                y: 70,
              });
            }
            TweenMax.to(
              swiper.slides[swiper.activeIndex].querySelectorAll(
                ".content h2,.content h1, .content small, .content .awardImg,.content p,.content .btn, .content h3"
              ),
              0.6,
              {
                autoAlpha: 1,
                y: 0,
                delay: 0.3,
                onComplete: function () {},
              }
            );
            TweenMax.to(
              swiper.slides[swiper.activeIndex].querySelectorAll(".content "),
              0.3,
              {
                autoAlpha: 1,
                y: 0,
                delay: 0,
                onComplete: function () {
                  swiper.slides[swiper.activeIndex]
                    .querySelector(".content")
                    .classList.add("active");
                },
              }
            );
            if (jQuery(".beam-slider .swiper-slide-active video").length > 0) {
              swiper.autoplay.stop();
              jQuery(".beam-slider .swiper-slide-active video").each(
                function () {
                  var thisVideo = jQuery(this);
                  thisVideo.get(0).play();
                  setTimeout(function () {
                    thisVideo.get(0).pause();
                  }, jQuery(this)[0].duration * 1000);
                  var duration = jQuery(this)[0].duration * 1000;
                  setTimeout(() => {
                    jQuery(".beam-slider .swiper-button-next").trigger("click");
                  }, duration);
                }
              );
            } else {
              swiper.autoplay.start();
              jQuery(".beam-slider .swiper-slide video").each(function () {
                jQuery(this).get(0).pause();
                jQuery(this).get(0).currentTime = 0;
              });
            }
          },
          progress: function () {
            let swiper = this;
            for (let i = 0; i < swiper.slides.length; i++) {
              let slideProgress = swiper.slides[i].progress,
                innerOffset = swiper.width * interleaveOffset,
                innerTranslate = slideProgress * innerOffset;
              swiper.slides[i].querySelector(".slide-bgimg").style.transform =
                "translateX(" + innerTranslate + "px)";
            }
          },
          setTransition: function (speed) {
            let swiper = this;
            for (let i = 0; i < swiper.slides.length; i++) {
              swiper.slides[i].style.transition = speed + "ms";
              swiper.slides[i].querySelector(".slide-bgimg").style.transition =
                speed + "ms";
            }
          },
        },
      };
      let mainSliderOne = new Swiper(
        mainSliderSelectorOne,
        mainSliderOptionsOne
      );
      let mainSliderMulti = new Swiper(
        mainSliderSelectorMulti,
        mainSliderOptionsMulti
      );
    }
    var swiperWhatWeDo = new Swiper(".what-we-do-thumb-slider", {
      loop: true,
      slidesPerView: 6,
      spaceBetween: 0,
      slideToClickedSlide: true,
      navigation: {
        nextEl: ".what-we-do-next",
        prevEl: ".what-we-do-prev",
      },
    });
    var _diagonalSliderSlidesPerView = 1.2;
    if (vw > 969 && vw < 1190) {
      _diagonalSliderSlidesPerView = 1.45;
    }
    if (vw < 1024) {
      _diagonalSliderSlidesPerView = 1.3;
    }
    var diagonalSlider = new Swiper(".diagonal-slider", {
      loop: true,
      loopAdditionalSlides: 5,
      speed: 2500,
      autoplay: {
        delay: 7000,
      },
      spaceBetween: 0,
      slidesPerView: _diagonalSliderSlidesPerView,
      centeredSlides: false,
      touchRatio: 1,
      slideToClickedSlide: true,
      direction: "vertical",
      grabCursor: true,
      watchSlidesProgress: true,
      navigation: {
        nextEl: ".swiper-button-next-diagonal",
        prevEl: ".swiper-button-prev-diagonal",
      },
      on: {
        slideChangeTransitionEnd: function () {
          let swiper = this,
            captions = swiper.el.querySelectorAll(".content");
          for (let i = 0; i < captions.length; ++i) {
            TweenMax.to(
              swiper.slides[i].querySelectorAll(
                ".content .year, .content .heading"
              ),
              0,
              {
                autoAlpha: 0,
                y: -30,
              }
            );
            TweenMax.to(swiper.slides[i].querySelectorAll(".content p"), 0, {
              autoAlpha: 0,
              y: 30,
            });
            TweenMax.to(swiper.slides[i].querySelectorAll(".beam-bar"), 1, {
              x: "-120%",
            });
          }
          TweenMax.to(
            swiper.slides[swiper.activeIndex].querySelectorAll(
              ".content .year, .content .heading, .content p"
            ),
            1,
            {
              autoAlpha: 1,
              y: 0,
            }
          );
          TweenMax.to(
            swiper.slides[swiper.activeIndex].querySelectorAll(".beam-bar"),
            1,
            {
              x: "0%",
            }
          );
        },
        slideChangeTransitionStart: function () {
          let swiper = this,
            captions = swiper.el.querySelectorAll(".content");
          for (let i = 0; i < captions.length; ++i) {
            TweenMax.to(
              swiper.slides[i].querySelectorAll(
                ".content .year, .content .heading"
              ),
              0.6,
              {
                autoAlpha: 0,
                y: -30,
              }
            );
            TweenMax.to(swiper.slides[i].querySelectorAll(".content p"), 0.6, {
              autoAlpha: 0,
              y: 30,
            });
          }
        },
        progress: function () {
          let swiper = this;
          TweenMax.to(
            swiper.slides[swiper.activeIndex].querySelectorAll(".beam-bar"),
            1,
            {
              x: "150%",
            }
          );
        },
      },
    });
  }, 1000);
  jQuery(".tab-nav li a").click(function (ev) {
    ev.preventDefault();
    let id = jQuery(this).attr("href");
    if (
      vw < 768 &&
      jQuery(this).closest(".section").hasClass("interested-in-contact")
    ) {
      jQuery(this).parent().hide();
      jQuery(this).parent().siblings().hide();
      jQuery(id).slideToggle().addClass("show");
      jQuery(id).siblings().slideUp();
    } else {
      jQuery(this).addClass("active");
      jQuery(this).parent().siblings().find("a").removeClass("active");
      jQuery(id).addClass("active").addClass("show");
      jQuery(id).siblings().removeClass("show").removeClass("active");
      if (jQuery(id).find(".flickity-slider-wrap").length) {
        jQuery(id).find(".flickity-slider-wrap").flickity("resize");
      }
      if (jQuery(id).find(".flickity-slider-mobile-wrap").length) {
        jQuery(id).find(".flickity-slider-mobile-wrap").flickity("resize");
      }
    }
    setTimeout(function () {
      AOS.refresh();
      jQuery(
        ".tab-pane.active .newsroom-story-sec .slides:eq(1) .grid-box .image img"
      ).attr(
        "src",
        jQuery(
          ".tab-pane.active .newsroom-story-sec .slides:eq(1) .grid-box .image img"
        ).attr("data-img-big")
      );
      jQuery(
        ".tab-pane.active .newsroom-story-sec .slides:eq(2) .grid-box .image img"
      ).attr(
        "src",
        jQuery(
          ".tab-pane.active .newsroom-story-sec .slides:eq(2) .grid-box .image img"
        ).attr("data-img-horizontal")
      );
    }, 100);
  });
  jQuery(".key-event-thumb-slider .slides").click(function (ev) {
    ev.preventDefault();
    let id = jQuery(this).data("href");
    jQuery(this).addClass("active");
    jQuery(this).siblings().removeClass("active");
    jQuery(id).addClass("active").addClass("show");
    jQuery(id).siblings().removeClass("show").removeClass("active");
    if (jQuery(id).find(".flickity-slider-wrap").length) {
      jQuery(id).find(".flickity-slider-wrap").flickity("resize");
    }
  });
  jQuery(".tab-content .back").click(function () {
    jQuery(this).closest(".tab-pane").slideUp();
    var _this = jQuery(this);
    setTimeout(function () {
      _this
        .closest(".tab-pane")
        .parent(".tab-content")
        .siblings()
        .find("li")
        .fadeIn();
    }, 400);
  });
  var navOpnFlg = 0;
  jQuery(".hamburger").on("click", function () {
    if (navOpnFlg == 0) {
      TweenMax.to(jQuery(this).find("li:eq(0)"), 0.3, {
        rotation: -45,
        y: 9,
      });
      TweenMax.to(jQuery(this).find("li:eq(1)"), 0.3, {
        opacity: 0,
      });
      TweenMax.to(jQuery(this).find("li:eq(2)"), 0.3, {
        rotation: 45,
        y: -9,
      });
      jQuery(".main-header").addClass("black");
      jQuery(".main-header .main-nav").addClass("active");
      navOpnFlg = 1;
    } else {
      TweenMax.to(jQuery(this).find("li:eq(0)"), 0.3, {
        rotation: 0,
        y: 0,
      });
      TweenMax.to(jQuery(this).find("li:eq(1)"), 0.3, {
        opacity: 1,
      });
      TweenMax.to(jQuery(this).find("li:eq(2)"), 0.3, {
        rotation: 0,
        y: 0,
      });
      jQuery(".main-header").removeClass("black");
      jQuery(".main-header .main-nav").removeClass("active");
      navOpnFlg = 0;
    }
    jQuery("html, body").toggleClass("lock-scroll");
    jQuery(".main-header .icon-nav .search > a").toggleClass("disable-action");
  });
  var didScroll;
  var lastScrollTop = 0;
  var delta = 5;
  var navbarHeight = jQuery(".main-header").outerHeight();
  var a = 0;
  jQuery(window).scroll(function (event) {
    didScroll = true;
    if (jQuery(".only-value-content-counter").length > 0) {
      var oTop =
        jQuery(".only-value-content-counter").offset().top - window.innerHeight;
      if (a == 0 && jQuery(window).scrollTop() > oTop) {
        jQuery(".value-div span").each(function (index) {
          var size = jQuery(this).text().split(".")[1]
            ? jQuery(this).text().split(".")[1].length
            : 0;
          jQuery(this)
            .prop("Counter", 0)
            .animate(
              {
                Counter: jQuery(this).text(),
              },
              {
                duration: 2000,
                easing: "swing",
                step: function (now) {
                  jQuery(this).text(parseFloat(now).toFixed(size));
                },
              }
            );
        });
        a = 1;
      }
    }
  });
  setInterval(function () {
    if (didScroll) {
      hasScrolled();
      didScroll = false;
    }
  }, 250);
  function hasScrolled() {
    var st = jQuery(this).scrollTop();
    if (Math.abs(lastScrollTop - st) <= delta) { return;
    }
    if (st > 50) {
      jQuery(".main-header").addClass("solid");
    } else {
      jQuery(".main-header").removeClass("solid");
    }
    if (st > lastScrollTop && st > navbarHeight) {
      jQuery(".main-header").addClass("nav-up");
    } else {
      if (st + jQuery(window).height() < jQuery(document).height()) {
        jQuery(".main-header").removeClass("nav-up");
        setTimeout(function () {
          if (jQuery(".main-header").hasClass("solid")) {
            jQuery(".main-header").addClass("nav-up");
          }
        }, 3000);
      }
    }
    lastScrollTop = st;
  }
  jQuery(".main-header").on("mouseenter", function () {
    if (jQuery(".main-header").hasClass("solid")) {
      jQuery(".main-header").removeClass("nav-up");
    }
  });
  jQuery(".main-header").on("mouseleave", function () {
    jQuery(".main-header").removeClass("nav-up");
  });
  jQuery(".main-header .icon-nav .search > a").on("click", function () {
    jQuery(this).parent().toggleClass("active");
    jQuery(".main-nav > ul > li, .hamburger").toggleClass("disable-action");
    jQuery("html, body").toggleClass("lock-scroll");
  });
  if (vw < 969) {
    jQuery(".main-nav .has-child > span").click(function () {
      jQuery(this).next(".mega-menu").slideToggle();
      jQuery(this)
        .parent()
        .siblings(".has-child")
        .find(".mega-menu:visible")
        .slideUp();
      jQuery(this).parent().toggleClass("active");
      jQuery(this).parent().siblings(".has-child").removeClass("active");
    });
    jQuery(".footer-menu .head.has-child").on("click", function () {
      jQuery(this).next(".content").slideToggle();
      jQuery(this)
        .parent()
        .siblings(".link-blocks")
        .find(".content:visible")
        .slideUp();
      jQuery(this).toggleClass("active");
      jQuery(this)
        .parent()
        .siblings(".link-blocks")
        .find(".head.has-child")
        .removeClass("active");
    });
    jQuery(document).on(
      "click",
      ".footer-main .footer-menu .link-blocks .head small",
      function () {
        if (jQuery(this).parents(".head").hasClass("active")) {
          jQuery(this)
            .parents(".head")
            .removeClass("active")
            .find(".footer-inner-list")
            .slideUp();
        } else {
          jQuery(".footer-inner-list").slideUp();
          jQuery(".footer-menu .head").removeClass("active");
          jQuery(this)
            .parents(".head")
            .addClass("active")
            .find(".footer-inner-list")
            .slideDown();
        }
      }
    );
  }
  jQuery(".contact-form .close").click(function (ev) {
    jQuery(".contact-form").fadeOut();
  });
  jQuery(".submit-btn .btn").click(function () {
    jQuery(this).closest(".contact-form-wrap").hide();
    jQuery(".contact-form .thank-you").show();
  });
  let multiSelect = jQuery(".sidebar-filter").data("multi");
  if (multiSelect) {
    jQuery(".sidebar-filter li.submenu h6").click(function () {
      jQuery(this).toggleClass("active");
      jQuery(this).parent().find(".content").slideToggle();
    });
  } else {
    jQuery(".sidebar-filter li.submenu h6").click(function () {
      jQuery(this).toggleClass("active");
      jQuery(this).parent().siblings().find("h6").removeClass("active");
      jQuery(this).parent().find(".content").slideToggle();
      jQuery(this).parent().siblings().find(".content").slideUp();
    });
  }
  jQuery(".search-component  .search-box input").on("keyup", function () {
    if (jQuery(this).val().length > 1) {
      jQuery(".search-close").show();
    }
  });
  jQuery(".search-component  .search-box .search-close").on(
    "click",
    function () {
      jQuery(this).parent().find("input").val("");
      jQuery(this).hide();
    }
  );
  jQuery(".mob-heading-filter").click(function () {
    jQuery(".sidebar-filter").slideToggle();
    jQuery(".date-range").slideUp();
  });
  if (vw < 767) {
    jQuery(".search-component .sidebar-filter ul li").click(function () {
      jQuery(".sidebar-filter").slideToggle();
      jQuery(".date-range").slideUp();
      jQuery(".mob-heading-filter span").text(jQuery(this).find("h6").text());
    });
  }
  jQuery(".search-component .sidebar-filter ul li").click(function () {
    jQuery(".search-component .sidebar-filter ul li").removeClass("active");
    jQuery(this).addClass("active");
  });
  jQuery(".mob-heading-sort").click(function () {
    jQuery(".date-range").slideToggle();
    jQuery(".sidebar-filter").slideUp();
  });
  jQuery(".vertical-tab li a").click(function (ev) {
    ev.preventDefault();
    let id = jQuery(this).attr("href");
    jQuery(this).addClass("active");
    jQuery(this).parent().siblings().find("a").removeClass("active");
    jQuery(id).addClass("active");
    jQuery(id).siblings().removeClass("active");
  });
  jQuery(".intitute-sec .tab-content h5").click(function () {
    jQuery(this).toggleClass("active");
    jQuery(this).parent().siblings().find("h5").removeClass("active");
    jQuery(this).parent().find(".tab-pane-content").slideToggle();
    jQuery(this)
      .parent()
      .find(".tab-pane-content .content")
      .toggleClass("active");
    jQuery(this).parent().siblings().find(".tab-pane-content").slideUp();
    jQuery(this)
      .parent()
      .siblings()
      .find(".tab-pane-content .content")
      .removeClass("active");
  });
  jQuery(".accordion li h6").click(function () {
    jQuery(this).toggleClass("active");
    jQuery(this).parent().siblings().find("h6").removeClass("active");
    jQuery(this).parent().find(".accord-content").slideToggle();
    jQuery(this).parent().siblings().find(".accord-content").slideUp();
  });
  if (jQuery(".key-event-thumb-slider").length > 0) {
    var jQuerycarousel = jQuery(".key-event-thumb-slider").flickity();
    var slideLength = jQuery(".key-event-thumb-slider .slides").length;
    jQuerycarousel.on("change.flickity", function (event, index) {
      if (event.namespace == "flickity") {
        var lastElem = slideVisible - (slideLength - index);
      }
    });
  }
  jQuery(".see-more-trigger").click(function () {
    jQuery(this).hide();
    jQuery(".gallery-list li").addClass("active");
  });
  if (jQuery(".start-date").length) {
    jQuery(".start-date").datepicker({
      autoclose: true,
      todayHighlight: true,
      format: "dd/mm/yyyy",
    });
  }
  if (jQuery(".end-date").length) {
    jQuery(".end-date").datepicker({
      autoclose: true,
      todayHighlight: true,
      format: "dd/mm/yyyy",
    });
  }
  jQuery(".report-table .show-more span").on("click", function () {
    jQuery(this).toggleClass("active");
    jQuery(".report-table ul").toggleClass("active");
  });
  if (jQuery(".global-presence-slider").length > 0) {
    var global_presence = new Swiper(".global-presence-slider", {
      observer: true,
      observeParents: true,
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
  }
  if (jQuery(".global-swiper-slider").length > 0) {
    var global_swiper = new Swiper(".global-swiper-slider", {
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      thumbs: {
        swiper: video_thumb_swiper,
      },
    });
  }
  if (jQuery(".video-thumb-slider").length > 0) {
    var video_thumb_swiper = new Swiper(".video-thumb-slider", {
      slidesPerView: 2,
      watchSlidesProgress: true,
      freeMode: true,
      navigation: {
        nextEl: ".swiper-button-next-video",
        prevEl: ".swiper-button-prev-video",
      },
      breakpoints: {
        767: {
          slidesPerView: 2,
        },
      },
    });
    video_thumb_swiper.slideTo(1, 0);
  }
  var _footer_height = jQuery(".footer-main").height();
  var back_to_top = jQuery("#back-to-top");
  jQuery(window).scroll(function () {
    var _document_height = jQuery(document).outerHeight();
    var _main_Scroll = _document_height - jQuery(window).height() * 2.5;
    if (jQuery(window).scrollTop() > 800) {
      back_to_top.addClass("show");
    } else {
      back_to_top.removeClass("show");
    }
    if (jQuery(window).scrollTop() >= _main_Scroll) {
      jQuery(".footer-main").addClass("footer-visible");
    } else {
      jQuery(".footer-main").removeClass("footer-visible");
    }
  });
  back_to_top.on("click", function (e) {
    e.preventDefault();
    jQuery("html, body").animate(
      {
        scrollTop: 0,
      },
      "300"
    );
  });
  if (jQuery(window).width() > 767) {
    jQuery(".create-value-slider .next").on("click", function () {
      jQuery(".previous").attr("disabled", false);
      var index =
        jQuery(this).parents(".flickity-slider-wrap").find(".slides").length -
        1;
      if (
        jQuery(".create-value-slider .slides:eq(" + index + ")").hasClass(
          "is-selected"
        )
      ) {
        jQuery(this).attr("disabled", true);
      } else {
        jQuery(this).attr("disabled", false);
      }
    });
    jQuery(".create-value-slider .previous").on("click", function () {
      jQuery(".next").attr("disabled", false);
    });
  }
  jQuery(".video-thumb-slider .swiper-slide").on("click", function () {
    var _currIndex = jQuery(this).index();
    global_swiper.slideTo(_currIndex);
  });
  jQuery(window).scroll(function () {
    AOS.refresh();
    if (jQuery(window).scrollTop() > 800) {
      jQuery(".beam-spotlight").addClass("hide");
    } else {
      jQuery(".beam-spotlight").removeClass("hide");
    }
  });
  if (jQuery('[data-fancybox="gallery"]').length > 0) {
    jQuery('[data-fancybox="gallery"]').fancybox({
      toolbar: false,
    });
  }
  barGraphLiFunc = function (obj) {
    jQuery(".m-m-highlights .tab-content .tab-pane ul li").each(function () {
      var $max = jQuery(this).attr("data-max"),
        $amt = jQuery(this).attr("data-amt"),
        $total = 0;
      $total = ($amt / $max) * 100;
      jQuery(this).attr("data-width", $total);
    });
    setTimeout(function () {
      jQuery(obj + " li").each(function () {
        var _currWidth = jQuery(this).data("width");
        jQuery(this).width(_currWidth + "%");
      });
    }, 100);
  };
  barGraphLiFunc("#category_tab1");
  renderAnountAnfYearInBar = function (obj) {
    jQuery(obj + " li").each(function () {
      var _currYear = jQuery(this).data("year");
      jQuery(this).find(".year").html(_currYear);
      jQuery(this).find(".amount").html("");
      var _currAmountRs = jQuery(this).data("rs");
      jQuery(this)
        .find(".amount")
        .append("<span class='rs show'>" + _currAmountRs + "</span>");
      var _currAmountDoller = jQuery(this).data("doller");
      jQuery(this)
        .find(".amount")
        .append("<span class='doller'>" + _currAmountDoller + "</span>");
    });
  };
  renderAnountAnfYearInBar(".m-m-highlights .tab-content");
  jQuery(".m-m-highlights .tab-head a").on("click", function (e) {
    e.preventDefault();
    jQuery(".m-m-highlights .tab-content li").removeAttr("style");
    var _currHref = jQuery(this).attr("href");
    jQuery(".m-m-highlights .tab-head a").removeClass("active");
    jQuery(this).addClass("active");
    jQuery(".m-m-highlights .tab-content .tab-pane").removeClass("show active");
    jQuery(".m-m-highlights .tab-content")
      .find(_currHref)
      .addClass("show active");
    barGraphLiFunc(_currHref);
  });
  jQuery(".radio-container .radio label").on("click", function () {
    var _currentCurrency = jQuery(this).data("amount");
    jQuery(".m-m-highlights .tab-content")
      .find(".amount span")
      .toggleClass("show");
    jQuery(".m-m-highlights .tab-content li").removeAttr("style");
    var _currHref = jQuery(".m-m-highlights .tab-head a.active").attr("href");
    barGraphLiFunc(_currHref);
  });
  if (jQuery(".m-m-highlights").length) {
    const target = document.querySelector(".m-m-highlights .tab-content");
    function handleIntersection(entries) {
      entries.map((entry) => {
        if (entry.isIntersecting) {
          jQuery(".m-m-highlights .tab-content .tab-pane.show li").each(
            function () {
              var _currWidth = jQuery(this).data("width");
              jQuery(this).width(_currWidth + "%");
            }
          );
        } else {
          jQuery(".m-m-highlights .tab-content li").removeAttr("style");
        }
      });
    }
    const observer = new IntersectionObserver(handleIntersection);
    observer.observe(target);
  }
  jQuery("#graph-dropdown-mobile").on("change", function (e) {
    e.preventDefault();
    var _currHref = jQuery(this).val();
    jQuery(".m-m-highlights .tab-content .tab-pane").removeClass("show active");
    jQuery(".m-m-highlights .tab-content")
      .find(_currHref)
      .addClass("show active");
    barGraphLiFunc(_currHref);
  });
  jQuery(
    ".key-event-wrap .key-event-main-slider .slides .key-moments-list ul li"
  ).on("click", function () {
    if (
      jQuery(this).attr("data-slide-img") != "" ||
      jQuery(this).attr("data-slide-img") != undefined
    ) {
      jQuery(this)
        .parents(".align-items-center")
        .find("img")
        .attr("src", jQuery(this).attr("data-slide-img"));
    }
  });
  jQuery(".mr-section .media-left-nev ul li a").on("click", function () {
    jQuery(this).parents("ul").find("a").removeClass("active");
    jQuery(this).addClass("active");
  });
  jQuery(".pagination li a").on("click", function () {
    AOS.refresh();
  });
  if (vw < 767) {
    jQuery(".mob-select-grp").on("change", function () {
      jQuery("#myTab a").attr("href", this.value).click();
    });
    jQuery(".global-presence-tab-head select").on("change", function () {
      jQuery("html,body").animate(
        {
          scrollTop: jQuery(this.value).offset().top - 50,
        },
        200
      );
    });
  }
});
var windowWidth = jQuery(window).width();
var slideVisible = 10;
jQuery(window).on("load", function () {
  resizeMethod();
  var winW = jQuery(window).width();
  var bannerInterval = setInterval(function () {
    jQuery(".spotlight-home-wrap .swiper-slide").each(function () {
      var $this = jQuery(this);
      if ($this.hasClass("swiper-slide-active")) {
        TweenMax.to($this.find(".content small"), 0.5, {
          autoAlpha: 1,
          y: 0,
          delay: 0.1,
        });
        TweenMax.to($this.find(".content h2,.content h1"), 0.5, {
          autoAlpha: 1,
          y: 0,
          delay: 0.2,
        });
        TweenMax.to($this.find(".content p"), 0.5, {
          autoAlpha: 1,
          y: 0,
          delay: 0.25,
        });
        TweenMax.to($this.find(".content .btn"), 0.5, {
          autoAlpha: 1,
          y: 0,
          delay: 0.3,
        });
        TweenMax.to($this.find(".content .date"), 0.5, {
          autoAlpha: 1,
          y: 0,
          delay: 1,
        });
        TweenMax.to(jQuery(".spotlight-home-wrap .swiper-pagination"), 0.5, {
          autoAlpha: 1,
          y: 0,
          delay: 1,
        });
        TweenMax.to(
          jQuery(
            ".spotlight-home-wrap .swiper-button-prev, .spotlight-home-wrap .swiper-button-next"
          ),
          0.5,
          {
            autoAlpha: 1,
            y: 0,
            delay: 1.05,
          }
        );
        TweenMax.to($this.find(".content h2,.content h1"), 0.01, {
          autoAlpha: 1,
          y: 0,
          delay: 0,
          onComplete: function () {
            $this.find(".content").addClass("active");
            clearInterval(bannerInterval);
          },
        });
      }
    });
  }, 500);
  setTimeout(function () {
    AOS.refresh();
    if (winW > 767) {
      jQuery(
        ".discoverSection.newsroomstories .discover-block:nth-child(1) .discoverImg img"
      ).attr(
        "src",
        jQuery(
          ".discoverSection.newsroomstories .discover-block:nth-child(1) .discoverImg img"
        ).attr("data-img-big")
      );
      jQuery(
        ".discoverSection.newsroomstories .discover-block:nth-child(3) .discoverImg img"
      ).attr(
        "src",
        jQuery(
          ".discoverSection.newsroomstories .discover-block:nth-child(3) .discoverImg img"
        ).attr("data-img-vertical")
      );
      jQuery(
        ".discoverSection.newsroomstories .discover-block:nth-child(4) .discoverImg img"
      ).attr(
        "src",
        jQuery(
          ".discoverSection.newsroomstories .discover-block:nth-child(4) .discoverImg img"
        ).attr("data-img-horizontal")
      );
      jQuery(
        ".latest-stories .grid-layout .slides:eq(0) .wrap .image-wrap img"
      ).attr(
        "src",
        jQuery(
          ".latest-stories .grid-layout .slides:eq(0) .wrap .image-wrap img"
        ).attr("data-img-big")
      );
    }
    jQuery(
      ".discoverSection.newsroomstories .discover-block:nth-child(2) .discoverLink .date .iconImg img"
    ).attr(
      "src",
      jQuery(
        ".discoverSection.newsroomstories .discover-block:nth-child(2) .discoverLink .date .iconImg img"
      ).attr("data-svg")
    );
    jQuery(".slides:nth-child(1) .grid-box .date .iconImg img").attr(
      "src",
      jQuery(".slides:nth-child(1) .grid-box .date .iconImg img").attr(
        "data-svg"
      )
    );
    jQuery(".slides:nth-child(4) .grid-box .date .iconImg img").attr(
      "src",
      jQuery(".slides:nth-child(4) .grid-box .date .iconImg img").attr(
        "data-svg"
      )
    );
    jQuery(".newsroom-story-sec .slides:eq(1) .grid-box .image img").attr(
      "src",
      jQuery(".newsroom-story-sec .slides:eq(1) .grid-box .image img").attr(
        "data-img-big"
      )
    );
    jQuery(".newsroom-story-sec .slides:eq(2) .grid-box .image img").attr(
      "src",
      jQuery(".newsroom-story-sec .slides:eq(2) .grid-box .image img").attr(
        "data-img-horizontal"
      )
    );
    jQuery(
      ".press-release-search .discoverSection.newsroomnews .discover-block:nth-child(3) .discoverImg img"
    ).attr(
      "src",
      jQuery(
        ".press-release-search .discoverSection.newsroomnews .discover-block:nth-child(3) .discoverImg img"
      ).attr("data-img-horizontal")
    );
    jQuery(
      ".press-release-search .discoverSection.newsroomnews .discover-block:nth-child(3) .discoverImg object"
    ).attr(
      "data",
      jQuery(
        ".press-release-search .discoverSection.newsroomnews .discover-block:nth-child(3) .discoverImg object"
      ).attr("data-img-horizontal")
    );
    jQuery(
      ".press-release-search .search-list li .grid-box .thumb-img:eq(0)"
    ).attr(
      "src",
      jQuery(
        ".press-release-search .search-list li .grid-box .thumb-img:eq(0)"
      ).attr("data-img-vertical")
    );
    jQuery(
      ".press-release-search .search-list li .grid-box .thumb-img:eq(3)"
    ).attr(
      "src",
      jQuery(
        ".press-release-search .search-list li .grid-box .thumb-img:eq(3)"
      ).attr("data-img-horizontal")
    );
    jQuery(
      ".press-release-search .search-list li .grid-box .thumb-img:eq(6)"
    ).attr(
      "src",
      jQuery(
        ".press-release-search .search-list li .grid-box .thumb-img:eq(6)"
      ).attr("data-img-vertical")
    );
    jQuery(
      ".press-release-search .search-list li .grid-box .wrap .image-wrap img"
    ).each(function () {
      if (
        (jQuery(this).attr("data-img-vertical") == undefined ||
          jQuery(this).attr("data-img-vertical") == "") &&
        (jQuery(this).attr("data-img-horizontal") == undefined ||
          jQuery(this).attr("data-img-horizontal") == "") &&
        (jQuery(this).attr("src") == undefined ||
          jQuery(this).attr("src") == "")
      ) {
        jQuery(this).remove();
      }
    });
    var url = window.location.href;
    var urlsplit = url.split("/");
    var lastpart = urlsplit[urlsplit.length - 1];
    if (
      lastpart == "regulatory-filings" ||
      lastpart == "policies-and-documents" ||
      lastpart == "sustainability"
    ) {
    }
    jQuery("img").attr("oncontextmenu", "return false;");
  }, 500);
});
jQuery(window).on("resize", function () {
  resizeMethod();
  setTimeout(function () {
    AOS.refresh();
  }, 200);
});
function resizeMethod() {
  var tabWidth = 0;
  if (windowWidth < 992 && windowWidth > 767) {
    slideVisible = 6;
  }
  if (windowWidth < 768) {
    slideVisible = 3;
  }
  if (viewport().width < 960) {
    jQuery(".view-also-mob").html("");
    let clone = jQuery(".view-also").clone();
    jQuery(".view-also-mob").append(clone);
    jQuery(".tab-nav .nav li").each(function () {
      tabWidth += jQuery(this).outerWidth();
    });
    if (tabWidth > jQuery(".tab-nav .nav").width()) {
      jQuery(".tab-nav .nav ").addClass("justify-center");
    }
  }
  if (!jQuery(".banner-404 > h2").hasClass("desk-hide")) {
    let heading404 = jQuery(".banner-404 .section-header h2")
      .clone()
      .addClass("desk-hide");
    jQuery(".banner-404").append(heading404);
  }
  if (jQuery(".two-column-slider").length) {
    jQuery(".two-column-slider").each(function () {
      if (
        jQuery(this).find(".discover-block").length < 3 &&
        jQuery(this).find(".discover-block").length > 0
      ) {
        jQuery(this).addClass("hide-nav-dots");
      } else {
        jQuery(this).removeClass("hide-nav-dots");
      }
    });
  }
}
function viewport() {
  var e = window,
    a = "inner";
  if (!("innerWidth" in window)) {
    a = "client";
    e = document.documentElement || document.body;
  }
  return {
    width: e[a + "Width"],
    height: e[a + "Height"],
  };
}
history.scrollRestoration = "manual";
jQuery(window).on("beforeunload", function () {});

// banner one scroll to next section
(function ($) {
  var blockedPaths = [
    "/terms-of-use",
    "/disclaimer",
    "/privacy-policy",
    "/sitemap",
    "/contact-us",
    "/news-room/press-release/",
    "/blogs/",
    "/search",
  ];
  var path = "";
  var isBlocked = false;
  $(blockedPaths).each(function (index) {
    path = $(location).attr("pathname");
    if (path.includes(blockedPaths[index])) {
      isBlocked = true;
      return;
    }
  });
  var hasClass = [
    'body .leader-detail-section',
  ]
  $(hasClass).each(function (index) {
    if($(hasClass[index]).length > 0) {
      isBlocked = true;
      return;
    }
  });
  if (isBlocked) {
    return;
  }
  var $sections = $(".section, .section-alt");
  var currentSection = 0;
  var isAnimating = false;
  var stopAnimation = function () {
    setTimeout(function () {
      isAnimating = false;
    }, 300);
  };
  var bottomIsReached = function ($elem) {
    var rect = $elem[0].getBoundingClientRect();
    return rect.bottom <= $(window).height();
  };
  var topIsReached = function ($elem) {
    var rect = $elem[0].getBoundingClientRect();
    return rect.top >= 0;
  };
  if ($(window).width() > 991) {
    document.addEventListener(
      "wheel",
      function (event) {
        var $currentSection = $($sections[currentSection]);
        if (isAnimating) {
          event.preventDefault();
          return;
        }
        var direction = -event.deltaY;
        if (direction < 0) {
          if (currentSection + 1 >= 2) { return;
          }
          if (!bottomIsReached($currentSection)) { return;
          }
          event.preventDefault();
          currentSection++;
          var $section = $($sections[currentSection]);
          var offsetTop = $section.offset().top;
          isAnimating = true;
          $("html, body").animate(
            {
              scrollTop: offsetTop,
            },
            1500,
            stopAnimation
          );
        } else {
          if (currentSection - 1 < 0) { return;
          }
          if (!topIsReached($currentSection)) { return;
          }
          event.preventDefault();
          currentSection--;
        }
      },
      {
        passive: false,
      }
    );
  }
})(jQuery);
